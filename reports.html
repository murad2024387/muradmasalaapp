<!DOCTYPE html>
<html lang="sd" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مراد مسالا - رپورٽون</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/reports.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Reports specific styles */
        .reports-section {
            margin: 20px;
        }
        
        .report-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .report-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .report-card i {
            font-size: 2em;
            color: #e67e22;
            margin-bottom: 15px;
        }
        
        .report-card h3 {
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .report-card p {
            color: #7f8c8d;
        }
        
        .date-range-selector {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .report-results {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-top: 20px;
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        .chart-container {
            height: 400px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-pepper-hot"></i>
            <span>مراد مسالا</span>
        </div>
        
        <button class="menu-toggle" onclick="toggleMenu()" style="background: transparent; border: none; cursor: pointer;">
            <svg width="30" height="30" viewBox="0 0 30 30" fill="#2C3E50" xmlns="http://www.w3.org/2000/svg">
                <rect y="6" width="30" height="3" rx="1.5" />
                <rect y="13" width="30" height="3" rx="1.5" />
                <rect y="20" width="30" height="3" rx="1.5" />
            </svg>
        </button>
        
        <nav id="mainNav">
            <div class="nav-category">
                <a href="index.html" class="nav-btn">
                    <i class="fas fa-home"></i>
                    <span>ڊش بورڊ</span>
                </a>
                <a href="reports.html" class="nav-btn active">
                    <i class="fas fa-chart-bar"></i>
                    <span>رپورٽون</span>
                </a>
                <a href="products.html" class="nav-btn">
                    <i class="fas fa-boxes"></i>
                    <span>پراڊڪٽس</span>
                </a>
                <a href="sales.html" class="nav-btn">
                    <i class="fas fa-shopping-cart"></i>
                    <span>وڪري</span>
                </a>
                <a href="purchase.html" class="nav-btn">
                    <i class="fas fa-cart-plus"></i>
                    <span>خريداري</span>
                </a>
            </div>
        </nav>
    </header>

    <main>
        <section class="reports-section">
            <div class="section-header">
                <h2><i class="fas fa-chart-bar"></i> رپورٽون</h2>
            </div>
            
            <div class="date-range-selector">
                <h3><i class="fas fa-calendar-alt"></i> تاريخ چونڊيو</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="startDate">کان تاريخ</label>
                        <input type="date" id="startDate">
                    </div>
                    <div class="form-group">
                        <label for="endDate">تائي تاريخ</label>
                        <input type="date" id="endDate">
                    </div>
                    <button class="btn btn-primary" id="applyDateRange">
                        <i class="fas fa-filter"></i> لاڳو ڪريو
                    </button>
                </div>
            </div>
            
            <div class="report-cards">
                <!-- Sales Reports -->
                <div class="report-card" onclick="showSalesReport()">
                    <i class="fas fa-shopping-cart"></i>
                    <h3>وڪري جي رپورٽ</h3>
                    <p>مخصوص مدت جي وڪري جو مڪمل جائزو</p>
                </div>
                
                <!-- Purchase Reports -->
                <div class="report-card" onclick="showPurchaseReport()">
                    <i class="fas fa-cart-plus"></i>
                    <h3>خريداري جي رپورٽ</h3>
                    <p>سپلائرز کان خريداري جو رڪارڊ</p>
                </div>
                
                <!-- Inventory Reports -->
                <div class="report-card" onclick="showInventoryReport()">
                    <i class="fas fa-boxes"></i>
                    <h3>اسٽاڪ جي رپورٽ</h3>
                    <p>موجوده اسٽاڪ ۽ گهٽ اسٽاڪ جي شين</p>
                </div>
                
                <!-- Customer Reports -->
                <div class="report-card" onclick="showCustomerReport()">
                    <i class="fas fa-users"></i>
                    <h3>گاهڪن جي رپورٽ</h3>
                    <p>گاهڪن جي وڪري ۽ باقي رقم</p>
                </div>
                
                <!-- Supplier Reports -->
                <div class="report-card" onclick="showSupplierReport()">
                    <i class="fas fa-truck"></i>
                    <h3>سپلائرز جي رپورٽ</h3>
                    <p>سپلائرز سان لین دین ۽ باقي رقم</p>
                </div>
                
                <!-- Profit/Loss Reports -->
                <div class="report-card" onclick="showProfitLossReport()">
                    <i class="fas fa-money-bill-wave"></i>
                    <h3>منافعو/نقصان جي رپورٽ</h3>
                    <p>مڪمل منافعي جو تجزيو</p>
                </div>
            </div>
            
            <div class="report-results" id="reportResults" style="display: none;">
                <div class="report-header">
                    <h3 id="reportTitle">رپورٽ جو عنوان</h3>
                    <button class="btn btn-success" id="exportReportBtn">
                        <i class="fas fa-file-export"></i> برآمد ڪريو
                    </button>
                </div>
                
                <div class="table-responsive">
                    <table id="reportTable">
                        <thead>
                            <tr>
                                <!-- Columns will be added dynamically -->
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be added dynamically -->
                        </tbody>
                    </table>
                </div>
                
                <div class="chart-container" id="reportChart">
                    <!-- Chart will be rendered here -->
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Reports Management System
        document.addEventListener('DOMContentLoaded', function() {
            // Set default dates (current month)
            const today = new Date();
            const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
            
            document.getElementById('startDate').valueAsDate = firstDay;
            document.getElementById('endDate').valueAsDate = today;
            
            // Apply date range
            document.getElementById('applyDateRange').addEventListener('click', function() {
                // Here you would typically reload reports based on selected date range
                alert('تاريخ رينج لاڳو ڪئي وئي آهي: ' + 
                      document.getElementById('startDate').value + ' کان ' + 
                      document.getElementById('endDate').value + ' تائين');
            });
            
            // Export report
            document.getElementById('exportReportBtn').addEventListener('click', function() {
                alert('رپورٽ برآمد ڪرڻ جي خاصيت اڃا تياري ۾ آهي');
                // Implement export functionality here
            });
        });
        
        // Show Sales Report
        window.showSalesReport = function() {
            document.getElementById('reportResults').style.display = 'block';
            document.getElementById('reportTitle').textContent = 'وڪري جي رپورٽ';
            
            // Sample data - in real app you would fetch from database
            const salesData = [
                { date: '2023-05-01', invoiceNo: 'INV-1001', customer: 'عامر هوٽل', amount: 15000, profit: 3000 },
                { date: '2023-05-02', invoiceNo: 'INV-1002', customer: 'سنڌ ڪيتين', amount: 8500, profit: 1700 },
                { date: '2023-05-03', invoiceNo: 'INV-1003', customer: 'ڪشمير مسالا', amount: 12000, profit: 2400 },
                { date: '2023-05-04', invoiceNo: 'INV-1004', customer: 'بلوچستان اسپائسز', amount: 7500, profit: 1500 },
                { date: '2023-05-05', invoiceNo: 'INV-1005', customer: 'عامر هوٽل', amount: 9200, profit: 1840 }
            ];
            
            renderReportTable(['تاريخ', 'انوائس نمبر', 'گاهڪو', 'رقم', 'منافعو'], salesData);
            renderSalesChart(salesData);
        };
        
        // Show Purchase Report
        window.showPurchaseReport = function() {
            document.getElementById('reportResults').style.display = 'block';
            document.getElementById('reportTitle').textContent = 'خريداري جي رپورٽ';
            
            // Sample data
            const purchaseData = [
                { date: '2023-05-01', invoiceNo: 'PUR-2001', supplier: 'ڪشمير مسالا هائوس', amount: 10000 },
                { date: '2023-05-03', invoiceNo: 'PUR-2002', supplier: 'سنڌ اسپائسز', amount: 7500 },
                { date: '2023-05-05', invoiceNo: 'PUR-2003', supplier: 'پنجاب فوڊز', amount: 12000 },
                { date: '2023-05-08', invoiceNo: 'PUR-2004', supplier: 'بلوچستان اسپائسز', amount: 8500 }
            ];
            
            renderReportTable(['تاريخ', 'انوائس نمبر', 'سپلائر', 'رقم'], purchaseData);
            renderPurchaseChart(purchaseData);
        };
        
        // Show Inventory Report
        window.showInventoryReport = function() {
            document.getElementById('reportResults').style.display = 'block';
            document.getElementById('reportTitle').textContent = 'اسٽاڪ جي رپورٽ';
            
            // Sample data
            const inventoryData = [
                { product: 'لال مرچ پائوڊر', category: 'مسالا', currentStock: 15, alertLevel: 5, status: 'اسٽاڪ ۾' },
                { product: 'ڪاري مرچ', category: 'مسالا', currentStock: 3, alertLevel: 5, status: 'گهٽ اسٽاڪ' },
                { product: 'هڙدي پائوڊر', category: 'مسالا', currentStock: 25, alertLevel: 5, status: 'اسٽاڪ ۾' },
                { product: 'زيرا', category: 'مصالحو', currentStock: 0, alertLevel: 2, status: 'ختم ٿي ويو' },
                { product: 'گرم مصالحو', category: 'مرڪب', currentStock: 8, alertLevel: 5, status: 'اسٽاڪ ۾' }
            ];
            
            renderReportTable(['پراڊڪٽ', 'قسم', 'موجوده اسٽاڪ', 'الارم سطح', 'اسٽيٽس'], inventoryData);
            renderInventoryChart(inventoryData);
        };
        
        // Other report functions would follow the same pattern...
        
        // Render Report Table
        function renderReportTable(columns, data) {
            const table = document.getElementById('reportTable');
            table.innerHTML = '';
            
            // Create header
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            
            columns.forEach(col => {
                const th = document.createElement('th');
                th.textContent = col;
                headerRow.appendChild(th);
            });
            
            thead.appendChild(headerRow);
            table.appendChild(thead);
            
            // Create body
            const tbody = document.createElement('tbody');
            
            data.forEach(item => {
                const row = document.createElement('tr');
                
                columns.forEach(col => {
                    const td = document.createElement('td');
                    td.textContent = item[col.toLowerCase().replace(' ', '')] || '-';
                    
                    // Add color to status
                    if (col === 'اسٽيٽس') {
                        if (item.status === 'گهٽ اسٽاڪ') td.style.color = '#e67e22';
                        if (item.status === 'ختم ٿي ويو') td.style.color = '#e74c3c';
                    }
                    
                    row.appendChild(td);
                });
                
                tbody.appendChild(row);
            });
            
            table.appendChild(tbody);
        }
        
        // Render Sales Chart
        function renderSalesChart(data) {
            const ctx = document.getElementById('reportChart');
            ctx.innerHTML = '<canvas id="salesChart"></canvas>';
            
            const dates = data.map(item => item.date);
            const amounts = data.map(item => item.amount);
            const profits = data.map(item => item.profit);
            
            new Chart(document.getElementById('salesChart'), {
                type: 'bar',
                data: {
                    labels: dates,
                    datasets: [
                        {
                            label: 'وڪري جي رقم',
                            data: amounts,
                            backgroundColor: 'rgba(54, 162, 235, 0.7)'
                        },
                        {
                            label: 'منافعو',
                            data: profits,
                            backgroundColor: 'rgba(75, 192, 192, 0.7)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }
        
        // Render Purchase Chart
        function renderPurchaseChart(data) {
            const ctx = document.getElementById('reportChart');
            ctx.innerHTML = '<canvas id="purchaseChart"></canvas>';
            
            const suppliers = [...new Set(data.map(item => item.supplier))];
            const amounts = suppliers.map(supplier => {
                return data.filter(item => item.supplier === supplier)
                          .reduce((sum, item) => sum + item.amount, 0);
            });
            
            new Chart(document.getElementById('purchaseChart'), {
                type: 'pie',
                data: {
                    labels: suppliers,
                    datasets: [{
                        data: amounts,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 206, 86, 0.7)',
                            'rgba(75, 192, 192, 0.7)'
                        ]
                    }]
                }
            });
        }
        
        // Render Inventory Chart
        function renderInventoryChart(data) {
            const ctx = document.getElementById('reportChart');
            ctx.innerHTML = '<canvas id="inventoryChart"></canvas>';
            
            const categories = [...new Set(data.map(item => item.category))];
            const counts = categories.map(cat => data.filter(item => item.category === cat).length);
            
            new Chart(document.getElementById('inventoryChart'), {
                type: 'doughnut',
                data: {
                    labels: categories,
                    datasets: [{
                        data: counts,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 206, 86, 0.7)'
                        ]
                    }]
                }
            });
        }
        
        // Menu toggle function
        function toggleMenu() {
            const nav = document.getElementById('mainNav');
            nav.style.display = nav.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>